(()=>{"use strict";var e={489:(e,t,n)=>{function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n.d(t,{Z:()=>o});var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.PANEL_ELEMENTS=[],this.appIframe=t,this.LINKEDIN_FEED_CLASS="scaffold-layout__main",this.PANEL_CLASS="scaffold-layout__aside",this.feedIntervalId=0,this.pageInterval=0,this.initialLoad=!1}var t,n,o;return t=e,(n=[{key:"getLinkedInFeed",value:function(){return document.getElementsByClassName(this.LINKEDIN_FEED_CLASS)[0].children[2]}},{key:"getLinkedInPanel",value:function(){return document.getElementsByClassName(this.PANEL_CLASS)[0]}},{key:"hasLinkedInPanelLoaded",value:function(){return 3==this.getLinkedInPanel().children.length}},{key:"setPanelElements",value:function(e){this.PANEL_ELEMENTS=e}},{key:"homePageLinkedInHasLoaded",value:function(){return this.hasLinkedInPanelLoaded()&&this.getLinkedInFeed()}},{key:"focusLinkedIn",value:function(){console.log("setting interval to block LINKEDIN"),this.initialLoad?this.feedIntervalId=setInterval(this.tryBlockingLinkedInHome.bind(this),100):(this.feedIntervalId=setInterval(this.tryBlockingLinkedInHome.bind(this),500),this.initialLoad=!this.initialLoad)}},{key:"tryBlockingLinkedInHome",value:function(){if(console.log("we are trying to block LINKEDIN home"),this.distractionsHidden("home"))return console.log("we can clear the interval"),console.log(this.feedIntervalId),clearInterval(this.feedIntervalId),void(this.initialLoad=!1);console.log("distractions are not hidden");try{this.homePageLinkedInHasLoaded()&&(console.log("here in blocking LINKEDIN"),this.toggleLinkedInHomeDistractions(!0))}catch(e){console.log(e),console.log("Feed hasn't been loaded yet")}}},{key:"toggleLinkedInHomeDistractions",value:function(e){try{e?(this.hideLinkedInFeed(!0),this.hideLinkedInPanel(!0),this.injectIframe()):(this.hideLinkedInFeed(!1),this.hideLinkedInPanel(!1))}catch(e){console.log(e)}}},{key:"hideLinkedInFeed",value:function(e){e?(console.log("here trying to hide lInkedin FEED"),this.LINKEDIN_FEED_PARENT_NODE=this.getLinkedInFeed(),this.LINKEDIN_FEED_CHILD_NODE=this.LINKEDIN_FEED_PARENT_NODE.children[1],console.log(this.LINKEDIN_FEED_CHILD_NODE),this.LINKEDIN_FEED_PARENT_NODE.removeChild(this.LINKEDIN_FEED_CHILD_NODE),console.log(this.LINKEDIN_FEED_PARENT_NODE)):this.LINKEDIN_FEED_PARENT_NODE.append(this.LINKEDIN_FEED_CHILD_NODE)}},{key:"hideLinkedInPanel",value:function(e){var t=this.getLinkedInPanel();if(e){var n=t.children.length;for(console.log(t.children);0!=n;){var i=t.children[n-1];this.PANEL_ELEMENTS.push(i),t.removeChild(i),n-=1}}else{for(var o=0;o<this.PANEL_ELEMENTS.length;o+=1)t.append(this.PANEL_ELEMENTS[o]);this.PANEL_ELEMENTS=[]}}},{key:"distractionsHidden",value:function(e){try{console.log("I am in the distractions function");var t=this.getLinkedInPanel();return console.log(t),"home"==e?2==this.getLinkedInFeed().children.length&&0==t.children.length:1==t.children.length}catch(e){console.log(e)}}},{key:"injectIframe",value:function(){this.LINKEDIN_FEED_PARENT_NODE.append(this.appIframe)}}])&&i(t.prototype,n),o&&i(t,o),e}()},519:(e,t,n)=>{function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}n.d(t,{Z:()=>o});var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.PANEL_ELEMENTS=[],this.appIframe=t,this.TWITTER_FEED_PARENT_NODE=null,this.TWITTER_FEED_CHILD_NODE=null,this.TWITTER_FEED_CLASS="",this.feedIntervalId=0,this.pageInterval=0,this.initialLoad=!1}var t,n,o;return t=e,(n=[{key:"getTwitterFeed",value:function(){return document.querySelectorAll('[role="main"]')[0].children[0].children[0].children[0].children[0].children[0].children[3]}},{key:"getTwitterPanel",value:function(){return document.querySelectorAll('[role="main"]')[0].children[0].children[0].children[0].children[1].children[0].children[1].children[0].children[0].children[0]}},{key:"hasTwitterPanelLoaded",value:function(){var e=this.getTwitterPanel();return 5==e.children.length||2==e.children.length}},{key:"getTwitterFeedClassName",value:function(){var e=this.getTwitterFeed();if(null!=e)return e.className;throw"feed class name not found!"}},{key:"setPanelElements",value:function(e){this.PANEL_ELEMENTS=e}},{key:"homePageTwitterHasLoaded",value:function(){return this.getTwitterPanel()&&this.getTwitterFeed()}},{key:"focusTwitterPanel",value:function(){this.pageInterval=setInterval(this.tryBlockingTwitterPanel.bind(this),700)}},{key:"focusTwitter",value:function(){console.log("setting interval to block twitter"),this.initialLoad?this.feedIntervalId=setInterval(this.tryBlockingTwitterHome.bind(this),100):(this.feedIntervalId=setInterval(this.tryBlockingTwitterHome.bind(this),500),this.initialLoad=!this.initialLoad)}},{key:"toggleTwitterHomeDistractions",value:function(e){console.log("here we are in toggle twitter distraction"),console.log("should hide is: "+e);try{e?(this.hideTwitterFeed(!0),this.hideTwitterPanel(!0),this.injectIframe()):(this.hideTwitterFeed(!1),this.hideTwitterPanel(!1))}catch(e){console.log(e)}}},{key:"hideTwitterFeed",value:function(e){e?(console.log("want to hide feed"),""==this.TWITTER_FEED_CLASS&&(console.log("FEED CLASS name is "+this.TWITTER_FEED_CLASS),this.TWITTER_FEED_CLASS=this.getTwitterFeedClassName(),console.log("NOW FEED CLASS name is "+this.TWITTER_FEED_CLASS)),this.TWITTER_FEED_PARENT_NODE=document.getElementsByClassName(this.TWITTER_FEED_CLASS)[1],this.TWITTER_FEED_CHILD_NODE=document.getElementsByClassName(this.TWITTER_FEED_CLASS)[1].children[0],this.TWITTER_FEED_PARENT_NODE.removeChild(this.TWITTER_FEED_PARENT_NODE.childNodes[0])):(console.log("want to show feed"),this.TWITTER_FEED_PARENT_NODE.append(this.TWITTER_FEED_CHILD_NODE))}},{key:"hideTwitterPanel",value:function(e){var t=this.getTwitterPanel();if(e)for(var n=t.children.length;1!=n;){var i=t.lastChild;this.PANEL_ELEMENTS.push(i),t.removeChild(i),n-=1}else{for(var o=0;o<this.PANEL_ELEMENTS.length;o+=1)t.append(this.PANEL_ELEMENTS[o]);this.PANEL_ELEMENTS=[]}}},{key:"tryBlockingTwitterHome",value:function(){if(console.log("we are trying to block twitter home"),this.distractionsHidden("home"))return console.log("we can clear the interval"),console.log(this.feedIntervalId),clearInterval(this.feedIntervalId),void(this.initialLoad=!1);console.log("distractions are not hidden");try{this.homePageTwitterHasLoaded()&&(console.log("here in blocking twitter"),this.toggleTwitterHomeDistractions(!0))}catch(e){console.log(e),console.log("Feed hasn't been loaded yet")}}},{key:"tryBlockingTwitterPanel",value:function(){if(console.log("we are trying to block twitter panel"),this.distractionsHidden("panel"))return console.log("we can clear the interval"),console.log(this.pageInterval),void clearInterval(this.pageInterval);try{this.hasTwitterPanelLoaded()&&(console.log("here in blocking twitter panel"),this.hideTwitterPanel(!0))}catch(e){console.log("Panel hasn't been loaded yet")}}},{key:"distractionsHidden",value:function(e){try{console.log("I am in the distractions function");var t=this.getTwitterPanel();return console.log(t),"home"==e?"IFRAME"==this.getTwitterFeed().children[0].nodeName&&1==t.children.length:1==t.children.length}catch(e){console.log(e)}}},{key:"injectIframe",value:function(){this.TWITTER_FEED_PARENT_NODE.append(this.appIframe)}}])&&i(t.prototype,n),o&&i(t,o),e}()}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var l=t[i]={exports:{}};return e[i](l,l.exports,n),l.exports}n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e,t,i=n(519),o=n(489),l="4000px",r="598px",s="focus-card";function a(n){console.log(n);var i=n.status,o=n.method,l=n.url;"focus"==i?l.includes("twitter")?"initial"==o?e.focusTwitter():"hidePanels"==o?e.focusTwitterPanel():e.toggleTwitterHomeDistractions(!0):l.includes("linkedin")&&(console.log("about to focus on linkedin"),t.focusLinkedIn()):"unfocus"==n.status&&(l.includes("twitter")?l.includes("/home")?(console.log("about to un-focus on Twitter"),e.toggleTwitterHomeDistractions(!1),h()):e.hideTwitterPanel(!1):l.includes("linkedin")&&(console.log("about to un-focus on linkedin"),t.toggleLinkedInHomeDistractions(!1)))}function h(){try{document.getElementById(s).remove()}catch(e){console.log("the iframe is not on the screen")}}!function(){chrome.runtime.connect({name:"Focused Browsing"}).onMessage.addListener(a);var n=function(){var e=document.createElement("iframe");return e.width=r,e.height=l,e.id=s,Object.assign(e.style,{position:"fixed",border:"none"}),e.src=chrome.runtime.getURL("www/card.html"),e}();e=new i.Z(n),t=new o.Z(n)}()})()})();