(()=>{var e,o="",n="",l="hidden",t="visible",i="self-focused ember-view",c="focus-card",s=window.location.toString(),r=!1,d=chrome.runtime.connect({name:"Focused Browsing"});function a(){e.src=chrome.runtime.getURL("www/card.html"),console.log(e)}function u(){e.width="120px",e.height="100px",e.id=c,Object.assign(e.style,{position:"fixed",border:"none",zIndex:"10000"}),document.body.prepend(e),console.log(e)}function m(){document.getElementById(c).remove()}function g(e){console.log("here in this linkedIn function");try{e?(console.log("about to hide linkedIn feed"),document.getElementsByClassName(i)[0].style.visibility=l,u()):(console.log("about to make linkedIn feed visible"),document.getElementsByClassName(i)[0].style.visibility=t,m())}catch(e){console.log(e)}}d.postMessage({url:s}),d.onMessage.addListener((function(e){console.log(e);var o=e.status,n=e.method;"focus"==o?"removeIframe"==n?m():s.includes("twitter")?("initial"==n?(console.log("setting interval to block twitter"),r?(h=setInterval(b,1e3),r=!1):h=setInterval(b,100)):f(!0),a()):s.includes("linkedin")&&(console.log("about to focus on linkedin"),a(),g(!0)):"unfocus"==e.status&&(s.includes("twitter")?(console.log("about to un-focus on Twitter"),f(!1)):s.includes("linkedin")&&(console.log("about to un-focus on linkedin"),g(!1)))})),console.log("welcome to the content script"),e=document.createElement("iframe"),console.log(e);var h,y=!1;function f(e){console.log("here we are in toggle twitter distraction"),console.log("should hide is: "+e);try{e?(document.getElementsByClassName(o)[0].style.visibility=l,document.getElementsByClassName(n)[1].style.visibility=l,u(),y=!0):(console.log("here is our un focus block of code"),document.getElementsByClassName(o)[0].style.visibility=t,document.getElementsByClassName(n)[1].style.visibility=t,y=!1,m())}catch(e){console.log(e)}}function b(){if(console.log("we are trying to block twitter home"),y)return console.log("we can clear the interval"),console.log(h),void clearInterval(h);try{(l=document.querySelectorAll('[role="main"]')[0].children[0].children[0].children[0].children[1].children[0].children[1].children[0].children[0].children[0].children[2],o=null!=l&&l.className)&&(e=document.querySelectorAll('[role="main"]')[0].children[0].children[0].children[0].children[0].children[0].children[3],n=null!=e&&e.className)&&(console.log("here in blocking twitter"),f(!0))}catch(e){console.log("Feed hasn't been loaded yet")}var e,l}})();